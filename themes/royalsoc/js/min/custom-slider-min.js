$(document).ready(function(){function t(t){$("#custom-slide-id .top-slide.tablet-slide").empty(),$(".sliderloader").show(),$("#custom-slide-id .bottom-slide.tablet-slide").empty(),$.ajax({url:"/microsite/SliderContent",data:"atype="+t,method:"POST"}).done(function(t){$("#custom-slide-id .top-slide.tablet-slide").empty(),$("#custom-slide-id .bottom-slide.tablet-slide").empty(),$(".sliderloader").hide();for(var e=t.split("</li>"),s=0,n=0,i="",d=0,a=0;a<e.length;a++)i=$.parseHTML(e[a]),n>=s?($(".hidden-slide-sort").append(i),d=$(".hidden-slide-sort").find(".project-image").hasClass("no-image")?1:2,$(".hidden-slide-sort").find(".project-item").remove(),$("#custom-slide-id .top-slide.tablet-slide").append(i),s+=d):($(".hidden-slide-sort").append(i),d=$(".hidden-slide-sort").find(".project-image").hasClass("no-image")?1:2,$(".hidden-slide-sort").find(".project-item").remove(),$("#custom-slide-id .bottom-slide.tablet-slide").append(i),n+=d);o()})}function e(){var t=0;return $(window).width()>=768?(t=$(".custom-slide-container").width(),parseInt(t/3)+parseInt(t/3)):(t=$(".custom-slide-container").width(),parseInt(t))}function o(){var t=0;a=0,r=0,$(".button-next").addClass("button-next-remove"),$(".button-prev").addClass("button-prev-remove");var o=parseInt(e());$(".top-slide").find(".project-item").each(function(){$(this).find(".project-image").hasClass("no-image")&&($(this).find(".project-image").addClass("hide"),$(this).find(".project-text").removeClass("sml-col-6"),o/=2),$(this).css("width",o),$(this).css("left",t),t+=o,o=parseInt(e()),a+=parseInt($(this).css("width").replace("px",""))}),t=0,$(".bottom-slide").find(".project-item").each(function(){$(this).find(".project-image").hasClass("no-image")&&($(this).find(".project-image").addClass("hide"),$(this).find(".project-text").removeClass("sml-col-6"),o/=2),$(this).css("width",o),$(this).css("left",t),t+=o,o=parseInt(e()),r+=parseInt($(this).css("width").replace("px",""))}),a>$(".custom-slide-container").width()?$(".button-next").removeClass("button-next-remove"):r>$(".custom-slide-container").width()?$(".button-next").removeClass("button-next-remove"):$(".button-next").addClass("button-next-remove")}function s(t,e){return v="good",h=t.css("left").replace("px",""),b=t.width(),b==e?h==-e/2&&(v="bad"):b==e/2&&h==-e/2&&(v="bad"),v}function n(t,e){return v="good",h=t.css("left").replace("px",""),b=t.width(),b==e?e>=h&&(v="bad"):b==e/2&&e+e/2>=h&&(v="bad"),v}function i(){1==c&&($(".top-slide").find(".project-item").each(function(t,o){c=!1;var n=e();$(".button-prev").addClass("button-prev-remove"),$(".button-next").removeClass("button-next-remove"),p=$(this).css("left").replace("px",""),m=parseInt(p)+n/2,$(".button-prev").removeClass("button-prev-remove"),$($(this)).animate({left:m+"px"},250,function(){c=!0}),0==t&&(u=s($(this),n))}),$(".bottom-slide").find(".project-item").each(function(t,o){c=!1;var n=e();$(".button-prev").addClass("button-prev-remove"),$(".button-next").removeClass("button-next-remove"),p=$(this).css("left").replace("px",""),m=parseInt(p)+n/2,$(".button-prev").removeClass("button-prev-remove"),$($(this)).animate({left:m+"px"},250,function(){c=!0}),0==t&&(u=s($(this),n)),$(this).addClass("scrolled")})),"bad"==u&&$(".button-prev").addClass("button-prev-remove")}function d(){if(u="good",1==c){var t=0;$(".top-slide").find(".project-item").each(function(e,o){t=e}),$(".top-slide").find(".project-item").each(function(o,s){c=!1;var i=e();$(".button-next").addClass("button-next-remove"),$(".button-prev").removeClass("button-prev-remove"),p=$(this).css("left").replace("px",""),m=parseInt(p)-i/2,$(".button-prev").removeClass("button-prev-remove"),$($(this)).animate({left:m+"px"},250,function(){c=!0}),o==t&&(f=n($(this),i)),$(this).addClass("scrolled")});var o=0;$(".bottom-slide").find(".project-item").each(function(t,e){o=t}),$(".bottom-slide").find(".project-item").each(function(t,s){c=!1;var i=e();$(".button-next").addClass("button-next-remove"),$(".button-prev").removeClass("button-prev-remove"),p=$(this).css("left").replace("px",""),m=parseInt(p)-i/2,$(".button-next").removeClass("button-next-remove"),$($(this)).animate({left:m+"px"},250,function(){c=!0}),t==o&&(x=n($(this),i)),$(this).addClass("scrolled")})}"bad"==f&&"bad"==x&&$(".button-next").addClass("button-next-remove")}var a=0,r=0;t($("#micrositetag").val()),o();var l=$(window).width();$(window).resize(function(){$(window).width()!=l&&o()});var c=!0,p=0,m=0,u="good",v="good",h=0,b=0,f="good",x="good";$(".button-next").click(function(){d()}),$(".button-prev").click(function(){i()});var C=document.getElementById("custom-slide-id"),w=new Hammer(C);w.on("swipeleft",function(){d()}),w.on("swiperight",function(){i()})});