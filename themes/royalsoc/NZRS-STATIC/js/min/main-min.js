$(document).ready(function(){function e(e){var t=e.val(),i=t.split("\\").reverse();$(e).parent().find(".file-button").val(i[0]),""===$(e).parent().find(".file-button").val()&&$(e).parent().find(".file-button").val("Upload a file...")}function t(e){"research"===e?($(".stuteach").removeClass("panel-active"),$(".curious").removeClass("panel-active"),$(".research").addClass("panel-active")):"stuteach"===e?($(".research").removeClass("panel-active"),$(".curious").removeClass("panel-active"),$(".stuteach").addClass("panel-active")):($(".research").removeClass("panel-active"),$(".stuteach").removeClass("panel-active"),$(".curious").addClass("panel-active"))}function i(e){if(t(e),!1){var i=window.location.href;$.ajax({type:"POST",url:i+"/generateSlideItems",data:{Value:e},success:function(e){for(var t=e.length,i=0;t>i;i++)$(".mobile-slide").append(e[i]);a(),s()},complete:function(){}})}}function a(){var e=[],t=[],i=[],a=0,n=0;if($(window).width()>=768){for(e=[],$(".mobile-slide").find(".project-item").each(function(){e.push('<li class="project-item">'+$(this).html()+"</li>")}),n=e.length,a=0;n>a;a+=4)$(".top-slide").append(e[a]),$(".top-slide").append(e[a+1]);for(a=2;n>a;a+=4)$(".bottom-slide").append(e[a]),$(".bottom-slide").append(e[a+1]);$(".mobile-slide").find(".project-item").each(function(){$(this).remove()})}else{for(t=[],i=[],n=0,$(".top-slide").find(".project-item").each(function(){t.push('<li class="project-item">'+$(this).html()+"</li>")}),$(".bottom-slide").find(".project-item").each(function(){i.push('<li class="project-item">'+$(this).html()+"</li>")}),n=t.length,a=0;n>a;a+=2)$(".mobile-slide").append(t[a]),$(".mobile-slide").append(t[a+1]),$(".mobile-slide").append(i[a]),$(".mobile-slide").append(i[a+1]);$(".top-slide").find(".project-item").each(function(){$(this).remove()}),$(".bottom-slide").find(".project-item").each(function(){$(this).remove()})}}function n(){var e=$(".custom-slide-container").width();return $(window).width()>=768?parseInt(e/3)+parseInt(e/3):parseInt(e)}function s(){var e=0,t=parseInt(n());$(window).width()>=768?($(".top-slide").find(".project-item").each(function(){$(this).css("width",t),$(this).css("left",e),e+=t}),e=0,$(".bottom-slide").find(".project-item").each(function(){$(this).css("width",t),$(this).css("left",e),e+=t})):$(".mobile-slide").find(".project-item").each(function(){$(this).css("width",t),$(this).css("top",e),e+=190})}function r(e){var t=0,i=0;if($(window).width()>=768){if("next"===e)$(".top-slide").find(".project-item").each(function(){i=parseInt($(this).css("left").replace("px",""))>=0?1:0,t+=i});else if("prev"===e){var a=n();$(".top-slide").find(".project-item").each(function(){i=parseInt($(this).css("left").replace("px",""))>=a?0:1,t+=i})}}else"next"===e?$(".mobile-slide").find(".project-item").each(function(){i=parseInt($(this).css("top").replace("px",""))<=190?0:1,t+=i}):"prev"===e&&$(".mobile-slide").find(".project-item").each(function(){i=parseInt($(this).css("top").replace("px",""))<=0?1:0,t+=i});return t}function o(){1==m&&($(".mobile-slide").find(".project-item").each(function(){m=!1;var e=r("prev");if(e>=2){var t=$(this).css("top").replace("px",""),i=parseInt(t)+190;$(".button-next").removeClass("button-next-remove"),$($(this)).animate({top:i+"px"},250,function(){m=!0})}else $(".button-prev").addClass("button-prev-remove"),m=!0}),$(".top-slide").find(".project-item").each(function(){m=!1;var e=r("prev"),t=n();if(e>1){var i=$(this).css("left").replace("px",""),a=parseInt(i)+t/2;$(".button-next").removeClass("button-next-remove"),$($(this)).animate({left:a+"px"},250,function(){m=!0})}else $(".button-prev").addClass("button-prev-remove"),m=!0;$(this).addClass("scrolled")}),$(".bottom-slide").find(".project-item").each(function(){m=!1;var e=r("prev"),t=n();if(e>1){var i=$(this).css("left").replace("px",""),a=parseInt(i)+t/2;$(".button-next").removeClass("button-next-remove"),$($(this)).animate({left:a+"px"},250,function(){m=!0})}else $(".button-prev").addClass("button-prev-remove"),m=!0;$(this).addClass("scrolled")}))}function l(){1==m&&($(".mobile-slide").find(".project-item").each(function(){m=!1;var e=r("next");if(e>=1){var t=$(this).css("top").replace("px",""),i=parseInt(t)-190;$(".button-prev").removeClass("button-prev-remove"),$($(this)).animate({top:i+"px"},250,function(){m=!0})}else $(".button-next").addClass("button-next-remove"),m=!0}),$(".top-slide").find(".project-item").each(function(){m=!1;var e=r("next"),t=n();if(e>1){var i=$(this).css("left").replace("px",""),a=parseInt(i)-t/2;$(".button-prev").removeClass("button-prev-remove"),$($(this)).animate({left:a+"px"},250,function(){m=!0})}else $(".button-next").addClass("button-next-remove"),m=!0;$(this).addClass("scrolled")}),$(".bottom-slide").find(".project-item").each(function(){m=!1;var e=r("next"),t=n();if(e>1){var i=$(this).css("left").replace("px",""),a=parseInt(i)-t/2;$(".button-prev").removeClass("button-prev-remove"),$($(this)).animate({left:a+"px"},250,function(){m=!0})}else $(".button-next").addClass("button-next-remove"),m=!0;$(this).addClass("scrolled")}))}$(".hamburger").click(function(){$(".filling").addClass("filling-animate"),$(".filling").addClass("collapse-menu"),$(".nav-wrapper").addClass("burger-fade")}),$(".hamburger-close").click(function(){$(".nav-wrapper").removeClass("burger-fade"),$(".filling").removeClass("filling-animate"),$(".filling").removeClass("collapse-menu")}),$(".search").click(function(){$(".search-wrapper").addClass("search-fade")}),$(".close-button").click(function(){$(".search-wrapper").removeClass("search-fade")}),$(".file-button").click(function(){$(this).prop("readonly",!1),$(this).parent().find(".uploadtrig").click(),$(this).prop("readonly",!0)}),$(".uploadtrig").on("change",function(){e($(this))}),$(".inactive").click(function(e){"block"===$(this).css("display")||$(this).hasClass("active")||(e.preventDefault(),$(".children").removeClass("children-active"),$(".parent").find(".arrow-container").removeClass("arrow-rotate-nav"),$(".parent").find(".inactive").removeClass("active"),$(this).parent().find(".children").addClass("children-active"),$(this).parent().find(".arrow-container").addClass("arrow-rotate-nav"),$(this).addClass("active"))}),$(".member-click").click(function(){function e(e){}var t=$(this).attr("id"),i=t.split("MemberID"),a="http://www.placekitten.com/130/158",n="Professor",s="Caroline",r="Saunders",o="ONZM MRSNZ",l="Nunc vehicula orci sed mauris ultricies vulputate. In fringilla metus at tempor fermentum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nulla aliquet, leo at efficitur scelerisque, turpis nunc viverra est, id fermentum felis purus et eros",c="Grants recieved",d="<ul><li>Ultricies vulputate</li><li>Fringilla metus</li></ul>";$("#memberModal").find(".modal-member-image").attr("src",a),$("#memberModal").find(".modal-member-title").html(n),$("#memberModal").find(".modal-member-firstname").html(s),$("#memberModal").find(".modal-member-lastname").html(r),$("#memberModal").find(".modal-member-honoraries").html(o),$("#memberModal").find(".modal-member-biography").html(l),$("#memberModal").find(".modal-member-grants").html(c),$("#memberModal").find(".modal-member-awards").html(d),$("memberModal").modal("show")}),$(".event-create").find("a").click(function(){$("#eventModal").modal("show")}),$(".communities-trigger").click(function(){$(this).removeClass("desktop-land-trigger"),$(".communities-background").removeClass("desktop-land-expand"),$(this).hasClass("communities-trigger-active")?$(this).removeClass("communities-trigger-active"):$(this).addClass("communities-trigger-active"),$(".communities-background").hasClass("communities-background-active")?$(".communities-background").removeClass("communities-background-active"):$(".communities-background").addClass("communities-background-active")}),$(".filter").click(function(e){e.preventDefault(),$(".filter").removeClass("filter-active"),$(this).addClass("filter-active")});var c="";t(c),$(".filter-research").click(function(){var e="research";i(e)}),$(".filter-stuteach").click(function(){var e="stuteach";i(e)}),$(".filter-curious").click(function(){var e="curious";i(e)}),$(".panel-text").click(function(e){$(this).parent().hasClass("backdrop-slide-active")||e.preventDefault()}),$(".panel-img-container").click(function(){$(".backdrop-slide").removeClass("backdrop-slide-active"),$(this).find(".backdrop-slide").addClass("backdrop-slide-active")}),a(),s();var d=$(window).width();$(window).resize(function(){$(window).width()!=d&&(a(),s())});var m=!0;$(".button-next").click(function(){l()}),$(".button-prev").click(function(){o()});var p=document.getElementById("custom-slide-id"),u=new Hammer(p);u.on("swipeleft",function(){l()}),u.on("swiperight",function(){o()})});